{% extends 'base.html' %}

{% block head %}
<title>Dataset</title>
<style>
    .card {
        margin: 0 auto; /* Added */
        float: none; /* Added */
        margin-bottom: 10px; /* Added */
    }
.td {
  text-align: center;
}

.table td {
  text-align: center;
}

</style>
{% endblock %}
{% block body %}
<div class='container'>
    <br>

                

            {% if messages %}
            <ol>
            {% for message in messages %}
            <div class="alert alert-warning text-center" role="alert">
                    <strong>{{ message|safe }}</strong>
            </div>
                
            {% endfor %}
            </ol>
            {% endif %}


            <div class="row">
                <div class="col-1"></div>
                <div class="col-10">
                    <div class="card card mb-3">
                        <div class="card-header bg-dark text-white text-center">
                            <h4>Upload a dataset</h4>
                        </div>
                    <div class="container-fluid">

                    <form method="post", enctype="multipart/form-data">
                        <br>
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-9">
                                <label>Upload the CSV file</label>
                                <input class="btn " type="file" name="file">
                            </div>
                            <div class="col-3">
                                <div class="row">
                                        {% if request.session.updated %}
                                        <div class="col-6"><button type="submit" class="btn btn-primary" disabled>Upload</button></div>
                                        <div class="col-6"><button onclick="location.href='reset'" class="btn btn-danger" >Delete</button></div>
                                        {% else %}
                                        <div class="col-6"><button type="submit" class="btn btn-primary" >Upload</button></div>
                                        <div class="col-6"><button onclick="location.href='reset'" class="btn btn-danger" >Delete</button></div>
                                        {% endif %}
                                        
                                </div>

                            </div>
                        </div>
                            



                            
                    </form>
                    </div>
                    </div>
                </div>
                <div class="col-1"></div>
            </div>

            <div class="row">
                <div class="col-1"></div>
                <div class="col-10">
                    <div class="card">
                        <div class="card-header bg-dark text-white text-center">
                                <h4>Training / Validation</h4>
                                
                        </div>
                        <div class="card-body">
                                <div class="row">
                                        <div class="col-6">
                                            
                                            <div class="card">
                                                    <div class="card-header">
                                                            <h4>Train</h4>
                                                    </div>
                                                    <div class="card-body">
                                                      <h5 class="card-title">Special title treatment</h5>
                                                      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                                                    </div>

                                                  </div>
                                        </div><!-- End Training column-->
                                        <div class="col-6">
                                                <div class="card">
                                                        <div class="card-header">
                                                                <h4>Cross-Validation Scores</h4>
                                                        </div>
                                                        <div class="card-body">

                                                                <table class="table  table-hover table-striped">
                                                                        <thead class="table-dark">
                                                                          <tr style='white-space: nowrap' class="text-center">
                                                                            <th scope="col">Accuracy</th>
                                                                            <th scope="col">Precision</th>
                                                                            <th scope="col">Recall</th>
                                                                            <th scope="col">F1</th>
                                                                            <th scope="col">AOC</th>
                                                                          </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr>
                                                                                <td>{{request.session.acc}}</td>
                                                                                <td>-</td>
                                                                                <td>-</td>
                                                                                <td>-</td>
                                                                                <td>-</td>

                                                                            </tr>
                                                                        </tbody>
                                                                </table>
                                                        </div>         
                                        </div><!-- End Validation column-->
                                </div> <!-- End of row inside body-->
                            </div>
                        </div>
                        <div class="card-footer text-muted">
                                {% if request.session.updated %}
                                <div class="text-center"><button button onclick="location.href='train_evaluate'" class="btn btn-primary" >Create a new model</button></div>
                                {%else%}
                                <div class="text-center"><button type="submit" class="btn btn-primary" disabled>Create a new model</button></div>
                                {% endif %}

                        </div>
                        </div><!-- End col-10 -->
                        <div class="col-1"></div>
                    </div><!--End row-->


                    <div class="row">
                            <div class="col-1"></div>
                            <div class="col-10">
                                
                            </div>
                            <div class="col-1"></div>
                     </div><!--End Prediction-->
            


</div>

{% endblock %}
